<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic School Chat</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’¬</text></svg>">
</head>
<body>
    <div id="page-wrapper">
        <div id="app-container">

            <!-- Login/Register Section -->
            <div id="auth-section">
                <div class="form-container">
                    <img src="images/baturn-logo.png" alt="Baturn Chat Logo" id="auth-logo" class="auth-logo-img">
                    <h2 id="auth-title">Login to Chat</h2>
                    <p id="auth-subtitle" class="subtitle">Enter your credentials below.</p>
                    <input type="text" id="usernameInput" placeholder="Username" maxlength="20" autocomplete="username">
                    <input type="password" id="passwordInput" placeholder="Password" autocomplete="current-password">
                    <button id="loginButton">Login</button>
                    <button id="registerButton" class="secondary-action hidden">Register</button>
                    <p id="auth-status" class="status-message"></p>
                    <a href="#" id="toggleAuthModeLink">Need an account? Register.</a>
                </div>
            </div>

            <!-- Chat Section (Initially Hidden) -->
            <div id="chat-section" class="hidden">
                <header>
                    <div class="header-content">
                        <button id="sidebar-toggle-btn" class="header-icon-btn" title="Toggle Rooms">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24">
                                <path fill-rule="evenodd" d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 01-.75-.75z" clip-rule="evenodd" />
                            </svg>
                        </button>
                        <h1><span id="chat-room-icon">#</span><span id="current-room-name">general</span></h1>
                        <div class="header-actions">
                            <label class="theme-switch" for="theme-checkbox" title="Toggle Dark/Light Mode">
                                <input type="checkbox" id="theme-checkbox">
                                <span class="slider round"></span>
                            </label>
                            <div id="user-info">
                                <span id="user-avatar">?</span>
                                <span id="currentUserDisplay">User</span>
                                <button id="logoutButton" class="header-icon-btn" title="Logout">
                                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                        <path fill-rule="evenodd" d="M7.5 3.75A1.5 1.5 0 006 5.25v13.5a1.5 1.5 0 001.5 1.5h6a1.5 1.5 0 001.5-1.5V15a.75.75 0 011.5 0v3.75a3 3 0 01-3 3h-6a3 3 0 01-3-3V5.25a3 3 0 013-3h6a3 3 0 013 3V9A.75.75 0 0115 9V5.25a1.5 1.5 0 00-1.5-1.5h-6zm10.72 4.72a.75.75 0 011.06 0l3 3a.75.75 0 010 1.06l-3 3a.75.75 0 11-1.06-1.06l1.72-1.72H9a.75.75 0 010-1.5h10.94l-1.72-1.72a.75.75 0 010-1.06z" clip-rule="evenodd" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </header>

                <div class="main-content">
                    <aside class="sidebar" id="sidebar">
                        <h3>Rooms</h3>
                        <ul id="room-list">
                            <!-- Room list will be populated by JavaScript -->
                        </ul>
                        <div class="add-room-container">
                            <input type="text" id="newRoomNameInput" placeholder="New room name..." maxlength="15" autocomplete="off">
                            <button id="createRoomBtn" title="Create Room">+</button>
                        </div>
                    </aside>

                    <main class="chat-area">
                        <div id="messages-wrapper">
                            <div id="messages">
                                <!-- Messages will appear here -->
                            </div>
                        </div>
                        <form id="messageForm" class="message-input-area">
                            <input type="text" id="messageInput" placeholder="Type your message..." disabled autocomplete="off">
                            <button id="sendMessageBtn" type="submit" disabled title="Send Message">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18" height="18"><path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z" /></svg>
                            </button>
                        </form>
                    </main>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
